name: "Stage IAC Directory"
description: "Check for IAC directory and compress it if exists"
outputs:
  iac_exists:
    description: "Indicates if the IAC directory exists"
    value: ${{ steps.stage_iac.outputs.iac_exists }}
runs:
  using: "composite"
  steps:
    - shell: bash
      id: stage_iac
      run: |
        if [ -d "iac" ]; then
          echo "Iac directory found. Staging iac directory."
          tar -czf iac.tgz iac
          echo "iac_exists=true" >> $GITHUB_OUTPUT
        else
          echo "Iac directory not found. Skipping this step.
          echo "iac_exists=false" >> $GITHUB_OUTPUT
        fi
